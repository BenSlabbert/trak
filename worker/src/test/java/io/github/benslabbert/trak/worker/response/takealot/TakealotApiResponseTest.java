package io.github.benslabbert.trak.worker.response.takealot;

import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.Test;

import java.io.IOException;

import static org.junit.Assert.*;

public class TakealotApiResponseTest {

  private final String json =
      "{\"core\": {\"star_rating\": null, \"subtitle\": \"Talon\", \"title\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer\", \"brand\": \"Talon\", \"authors\": null, \"id\": 54545478, \"reviews\": 0, \"brand_url\": {\"link_data\": {\"path\": \"/all?filter=Brand:{brand_slug}\", \"fields\": {\"brand_slug\": \"Talon\"}}}, \"formats\": [], \"slug\": \"talon-2-stroke-25cm-petrol-string-trimmer\"}, \"sharing\": {\"url\": \"https://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\", \"copy\": {\"body\": {\"twitter\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer available to buy online at @TAKEALOT We offer fast, reliable delivery to your door.\", \"pinterest\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer | Buy Online in South Africa | https://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\", \"facebook\": \"I love this product on takealot.com: Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer%0Ahttps://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\", \"whatsapp\": \"Check this out on takealot.com, Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer https://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\", \"email\": \"Check this out on takealot: Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer%0Ahttps://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\"}, \"subject\": {\"email\": \"Check this out on takealot: Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer\"}}, \"enabled\": [\"facebook\", \"twitter\", \"pinterest\", \"email\", \"whatsapp\"]}, \"buybox\": {\"is_preorder\": false, \"delivery_charges\": {}, \"promotion_qty\": null, \"product_id\": 83507096, \"add_to_cart_text\": \"Add to Cart\", \"loyalty_prices\": [{\"display_text\": \"eB15,530\", \"prices\": [15530], \"info_mode\": null, \"id\": \"loyaltyprices-0\", \"description\": null}, {\"display_text\": \"Discovery Miles 15,530\", \"prices\": [15530], \"info_mode\": null, \"id\": \"loyaltyprices-1\", \"description\": null}, {\"display_text\": \"On Credit: R145 / month\", \"prices\": [145.0], \"info_mode\": \"long\", \"id\": \"loyaltyprices-2\", \"info_text\": \"## Can I buy this on credit?\\n\\nYes. If you pay with Mobicred, you can repay the full amount in monthly instalments, instead of all at once.\\n\\nThe On Credit amount shown is based on 12 monthly repayments (including interest charged at 20.5%* per year and excluding Mobicred's set-up and service fees).\\n\\nOnce you have a Mobicred account, simply select Mobicred as your payment option when you checkout.\\n\\n### Don't have a Mobicred account yet?\\n\\nBefore you add an item to your cart, you'll need to apply for a Mobicred account via the Mobicred website.\\n\\n### Please note:\\n\\nYour Mobicred application will be processed in 1 business day once all required documents have been submitted.\\n\\n[Apply to Mobicred now](https://www.mobicred.co.za/register/?merchantID=1575)\\n\\n\\\\* Annual interest subject to change\"}], \"product_line_id\": 54545478, \"is_add_to_wishlist_available\": true, \"variants_call_to_action\": null, \"multibuy_label\": null, \"is_digital\": false, \"is_free_shipping_available\": true, \"multibuy_display\": false, \"is_add_to_cart_available\": true, \"prices\": [1553.0], \"pretty_price\": \"R 1,553\", \"listing_price\": 1553.0, \"promotion_qty_display_text\": null}, \"title\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer\", \"reviews\": {\"count\": 0, \"star_rating\": null, \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/reviews?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID54545478\"}}, \"tab_title\": \"Reviews\", \"latest_review\": null, \"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID54545478/reviews?platform=desktop\"}, \"exchanges_and_returns\": {\"copy\": \"### Free exchanges & returns for 30 days\\n\\nWrong size? Not quite what you wanted? You can exchange or return your purchase up to 30 days from the day you received it.\\n\\n1. Log your exchange or return request via your [Takealot Account profile](https://secure.takealot.com/account/).\\n2. Prepare your return parcel.\\n3. Wait for courier collection or drop off the parcel yourself.\\n4. If approved, your account will be credited.\\n\\n[Find out more](https://www.takealot.com/help/fashion-exchanges-returns)\", \"tab_title\": \"Exchanges and Returns\"}, \"bullet_point_attributes\": {\"items\": [{\"description\": \"## What does this mean?\\n\\nYou can pay for this item with cash when your driver delivers your order.\\n\\n### How does it work?\\n\\nSelect Cash On Delivery (COD) as your payment option when you checkout.\\nHave the exact amount of cash ready for our friendly delivery driver when he arrives.\\n\\n### Is COD available on every order?\\n\\nNo. We don\\u2019t offer COD for:\\n\\n-   Digital products (e.g. eBooks, gift vouchers or airtime)\\n-   Customised products (e.g. a sports shirt printed with a personalised name)\\n-   Orders totalling R5,000 or more\\n-   Orders being collected from our warehouse\\n-   Delivery addresses falling outside of our Takealot Delivery Team area\\n\\n\\n### If your order is eligible for COD, it will be displayed as a payment option at checkout.\", \"positive\": true, \"text\": \"Eligible for Cash on Delivery.\", \"info_mode\": \"long\", \"type\": \"eligible_for_cod\", \"id\": \"bullet_point_0\"}, {\"description\": null, \"positive\": true, \"text\": \"Free Delivery Available.\", \"info_mode\": null, \"type\": \"free_delivery_available\", \"id\": \"bullet_point_1\"}, {\"description\": \"## Hassle-Free Exchanges & Returns for 30 Days\\n\\n### **Returns**\\n\\nIf you are not completely satisfied, simply return the items to us in their original condition and packaging within 30 days of receipt and we will issue a credit which can be used to place a new order.\\n\\n### Exchanges  (Fashion, sportswear and shoes only)\\n\\nThe item must be unworn and unused (other than trials) with the original tags still attached. Packaging should be returned in an undamaged condition with the item.\\n\\n### When does this policy not apply?\\n\\nIf the item is:\\n- older than 30 days\\n- opened, unsealed, used or missing any accessories\\n- a digital product such as an eBook, electronic voucher, gaming code or other digital downloads;\\n- an audio or video recording or computer software that has been unsealed;\\n- a newspaper, periodical or magazine;\\n- a foodstuff, beverage, or other product intended for everyday consumption;\\n- a nursing or maternity product that has been unsealed, including (but not limited to) breast pumps, bottles, formula, maternity underwear, nappies and wipes;\\n- a beauty product or fragrance which has been used;\\n- a product which has been personalised or made to your specifications.\\n\\n\\nFind out more about [Exchanges & Returns](https://secure.takealot.com/help).\", \"positive\": true, \"text\": \"Hassle-Free Exchanges & Returns for 30 Days.\", \"info_mode\": \"long\", \"type\": \"hassle_free_exchanges_and_returns\", \"id\": \"bullet_point_2\"}, {\"description\": \"Limited warranty, with certain exclusions, as defined by the manufacturer. Please consult the manufacturer for further details.\", \"positive\": true, \"text\": \"1-Year Limited Warranty.\", \"info_mode\": \"short\", \"type\": \"warranty\", \"id\": \"bullet_point_3\"}]}, \"stock_availability\": {\"status\": \"Shipped in 5 to 7 working days\", \"is_leadtime\": true, \"distribution_centres\": null, \"seasonal_message_info\": null, \"when_do_i_get_it_text\": \"When do I get it?\", \"is_imported\": false, \"display_seasonal_message\": false, \"seasonal_message_text\": null, \"when_do_i_get_it_info\": \"## When do I get it?\\n\\nOur picking, packing and delivery is linked to what you order, where you want it delivered and how you choose to pay, so delivery times can vary. Estimates are provided below to help you shop, but always check your order\\u2019s Estimated Delivery Date during checkout for the most accurate delivery information.\\n\\n### Standard Delivery\\n\\nShipping Time*                 | Cape Town, Johannesburg & Pretoria Delivery Time**   | Regional Area Delivery Time**   | Remote Area Delivery Time**\\n-------------------------------|------------------------------------------------------|---------------------------------|------------------------------\\nShipped in 3-5 working days    | 1-2 weeks                                            | 1-2 weeks                       | 2-3 weeks\\nShipped in 5-7 working days    | 1-2 weeks                                            | 2-3 weeks                       | 2-3 weeks\\nShipped in 7-10 working days   | 2-3 weeks                                            | 2-4 weeks                       | 2-4 weeks\\nShipped in 10-15 working days  | 3-4 weeks                                            | 3-4 weeks                       | 3-4 weeks\\nShipped in 15-20 working days  | 3-5 weeks                                            | 3-5 weeks                       | 3-5 weeks\\n\\n\\n### Collections\\n\\nShipping time                 | Collect time\\n------------------------------|---------------\\nShipped in 3-5 working days   | 1-2 weeks\\nShipped in 5-7 working days   | 1-2 weeks\\nShipped in 7-10 working days  | 2-3 weeks\\nShipped in 10-15 working days | 3-4 weeks\\nShipped in 15-20 working days | 3-5 weeks\\n\\n\\\\* Shipping time indicates how long it takes a product to reach our warehouse from our supplier.\\n\\n** Delivery estimates include shipping times.\"}, \"gallery\": {\"images\": [\"https://media.takealot.com/covers_tsins/57591305/57591305-1-{size}.jpeg\"], \"size_guide\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/size-guide?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/size-guide?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\"}}}}, \"product_information\": {\"items\": [{\"displayable_text\": \"[Garden, Pool & Patio](/pool-garden) / [Garden](/pool-garden/garden-25905) / [Garden Power Tools](/pool-garden/garden-power-tools-25906) / [Brush Cutters](/pool-garden/brush-cutters-25914)\", \"display_name\": \"Categories\", \"value\": [[{\"type\": \"department\", \"slug\": \"pool-garden\", \"name\": \"Garden, Pool & Patio\", \"id\": 23}, {\"type\": \"category\", \"slug\": \"garden-25905\", \"name\": \"Garden\", \"id\": 25905}, {\"type\": \"category\", \"slug\": \"garden-power-tools-25906\", \"name\": \"Garden Power Tools\", \"id\": 25906}, {\"type\": \"category\", \"slug\": \"brush-cutters-25914\", \"name\": \"Brush Cutters\", \"id\": 25914}]], \"source\": \"categories\", \"content_type\": \"text/markdown\", \"type\": \"categories\", \"default_display_value\": null}, {\"displayable_text\": \"Limited (12 months)\", \"display_name\": \"Warranty\", \"value\": {\"type\": {\"name\": \"Limited\", \"id\": 2}, \"period\": {\"unit\": \"m\", \"value\": 12}}, \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"warranty\", \"id\": \"attributes-0\"}, {\"displayable_text\": \"800 W\", \"display_name\": \"Power\", \"value\": {\"unit\": \"W\", \"value\": 800}, \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"power\", \"id\": \"attributes-1\"}, {\"displayable_text\": \"[Talon](/all?filter=Brand:Talon)\", \"display_name\": \"Brand\", \"value\": {\"object\": {\"image\": \"https://media.takealot.com/brands/talon.gif\", \"department_ids\": [23]}, \"name\": \"Talon\", \"id\": 11853}, \"source\": \"tsin-attribute-service\", \"content_type\": \"text/markdown\", \"type\": \"brand\", \"id\": \"attributes-2\"}, {\"displayable_text\": \"TL25P\", \"display_name\": \"Model\", \"value\": \"TL25P\", \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"model_number\", \"id\": \"attributes-3\"}, {\"displayable_text\": \"7000 g\", \"display_name\": \"Packaged weight\", \"value\": {\"unit\": \"g\", \"value\": 7000}, \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"package_weight\", \"id\": \"attributes-4\"}, {\"displayable_text\": \"1 x Trimmer                                           1 x Owners Manual                               1 x Toolkit\", \"display_name\": \"What's in the box\", \"value\": \"1 x Trimmer                                           1 x Owners Manual                               1 x Toolkit\", \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"whats_in_the_box\", \"id\": \"attributes-5\"}], \"tab_title\": \"Product Information\", \"categories\": null}, \"data_layer\": {\"sku\": 57591305, \"totalPrice\": 1553.0, \"name\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer\", \"productlineSku\": \"PLID54545478-57591305\", \"departmentname\": \"Garden, Pool & Patio\", \"categoryid\": [25905, 25906, 25914], \"departmentid\": 23, \"pageType\": \"product\", \"quantity\": 1, \"event\": \"product\", \"prodid\": \"PLID54545478\", \"categoryname\": [\"Garden\", \"Garden Power Tools\", \"Brush Cutters\"]}, \"seller_detail\": {\"fulfilled_by_takealot\": \"- Product sold by trusted Seller\\n- Packed & shipped by Takealot\\n- Customer Service and returns handled by Takealot\", \"seller_id\": 29824847, \"display_name\": \"Creative Equipment CC\"}, \"meta\": {\"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID54545478\"}}, \"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID54545478?platform=desktop\", \"date_retrieved\": \"2019-07-31T16:14:02.632259\", \"identifier\": \"PLID54545478\", \"type\": \"ProductDetails\", \"display\": false}, \"top_navigation\": {\"items\": [{\"foreground\": \"#333333\", \"font_styling\": null, \"text\": \"Garden, Pool & Patio\", \"href\": \"/pool-garden\", \"background\": \"#ededed\", \"id\": \"topnav-0\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Garden\", \"href\": \"/pool-garden/garden1\", \"background\": \"#ededed\", \"id\": \"topnav-1\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Pool\", \"href\": \"/pool-garden/pool1\", \"background\": \"#ededed\", \"id\": \"topnav-2\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Patio\", \"href\": \"/pool-garden/patio_new\", \"background\": \"#ededed\", \"id\": \"topnav-3\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Braai\", \"href\": \"/pool-garden/braai_new\", \"background\": \"#ededed\", \"id\": \"topnav-4\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"DIY\", \"href\": \"/pool-garden/diy\", \"background\": \"#ededed\", \"id\": \"topnav-5\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Auto\", \"href\": \"/pool-garden/auto\", \"background\": \"#ededed\", \"id\": \"topnav-6\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Clearance\", \"href\": \"/pool-garden/all/?Promotions=55099\", \"background\": \"#ededed\", \"id\": \"topnav-7\"}]}, \"customers_also_bought\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID54545478/customers-also-bought?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/customers-also-bought?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID54545478\"}}}, \"breadcrumbs\": {\"items\": [{\"type\": \"department\", \"slug\": \"pool-garden\", \"name\": \"Garden, Pool & Patio\", \"id\": 23}, {\"type\": \"category\", \"slug\": \"garden-25905\", \"name\": \"Garden\", \"id\": 25905}, {\"type\": \"category\", \"slug\": \"garden-power-tools-25906\", \"name\": \"Garden Power Tools\", \"id\": 25906}, {\"type\": \"category\", \"slug\": \"brush-cutters-25914\", \"name\": \"Brush Cutters\", \"id\": 25914}]}, \"seo\": {\"alternate\": null, \"canonical\": null, \"description\": null, \"title\": \"Talon 2 stroke 25cm\\u00b3 Petrol String Trimmer | Buy Online in South Africa | takealot.com\"}, \"desktop_href\": \"https://www.takealot.com/talon-2-stroke-25cm-petrol-string-trimmer/PLID54545478\", \"frequently_bought_together\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID54545478/frequently-bought-together?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/frequently-bought-together?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID54545478\"}}}, \"event_data\": {\"documents\": {\"product\": {\"original_price\": 1553, \"sku_id\": 83507096, \"product_line_id\": 54545478, \"market_place_listing\": true, \"in_stock\": false, \"purchase_price\": 1553.0, \"lead_time\": \"Shipped in 5 - 7 working days\"}}}, \"description\": {\"tab_title\": \"Description\", \"html\": \"Powerful 25cm\\u00b3 petrol engine                                                                      \\nBent shaft for easy handling                                                                         \\nHard chrome cylinder                                                                                      \\nTwin line bump and feed                                                                        \\nSpecifications                                                                                                                 \\nEngine size  25cm\\u00b3                                                                                               \\nEngine type  Air-cooled, 2-cycle                                                                      \\nFuel/Oil Mix  50:1                                                                                               \\nFuel Tank Capacity  500ml                                                                               \\nSpark Plug  BM6A                                                                                                 \\nNoise level  99,7dB at 7m                                                                                  \\nCutting width  430mm                                                                             \\nSuggested Line  2mm<p>What's in the box<br />\\n1 x Trimmer                                           1 x Owners Manual                               1 x Toolkit</p>\"}}";

  private final String bookJSON =
      "{\"core\": {\"star_rating\": null, \"subtitle\": \"Tischreden, Band 6\", \"title\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\", \"brand\": null, \"authors\": [{\"idAuthor\": 0, \"link_data\": {\"path\": \"/all?filter=Author:{author_slug}\", \"fields\": {\"author_slug\": \"Ulrich+Kopf\"}}, \"Author\": \"Ulrich Kopf\"}], \"id\": 41763086, \"reviews\": 0, \"brand_url\": null, \"formats\": [{\"idFormatType\": 1, \"type\": \"Books\", \"name\": \"Hardback\", \"id\": 14}], \"slug\": \"d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1\"}, \"sharing\": {\"url\": \"https://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\", \"copy\": {\"body\": {\"twitter\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1 available to buy online at @TAKEALOT We offer fast, reliable delivery to your door.\", \"pinterest\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1 | Buy Online in South Africa | https://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\", \"facebook\": \"I love this product on takealot.com: D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1%0Ahttps://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\", \"whatsapp\": \"Check this out on takealot.com, D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1 https://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\", \"email\": \"Check this out on takealot: D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1%0Ahttps://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\"}, \"subject\": {\"email\": \"Check this out on takealot: D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\"}}, \"enabled\": [\"facebook\", \"twitter\", \"pinterest\", \"email\", \"whatsapp\"]}, \"buybox\": {\"is_preorder\": false, \"delivery_charges\": {}, \"promotion_qty\": null, \"product_id\": 54095527, \"add_to_cart_text\": \"Add to Cart\", \"loyalty_prices\": [{\"display_text\": \"eB7,750\", \"prices\": [7750], \"info_mode\": null, \"id\": \"loyaltyprices-0\", \"description\": null}, {\"display_text\": \"Discovery Miles 7,750\", \"prices\": [7750], \"info_mode\": null, \"id\": \"loyaltyprices-1\", \"description\": null}, {\"display_text\": \"On Credit: R72 / month\", \"prices\": [72.0], \"info_mode\": \"long\", \"id\": \"loyaltyprices-2\", \"info_text\": \"## Can I buy this on credit?\\n\\nYes. If you pay with Mobicred, you can repay the full amount in monthly instalments, instead of all at once.\\n\\nThe On Credit amount shown is based on 12 monthly repayments (including interest charged at 20.5%* per year and excluding Mobicred's set-up and service fees).\\n\\nOnce you have a Mobicred account, simply select Mobicred as your payment option when you checkout.\\n\\n### Don't have a Mobicred account yet?\\n\\nBefore you add an item to your cart, you'll need to apply for a Mobicred account via the Mobicred website.\\n\\n### Please note:\\n\\nYour Mobicred application will be processed in 1 business day once all required documents have been submitted.\\n\\n[Apply to Mobicred now](https://www.mobicred.co.za/register/?merchantID=1575)\\n\\n\\\\* Annual interest subject to change\"}], \"product_line_id\": 41763086, \"is_add_to_wishlist_available\": true, \"variants_call_to_action\": null, \"multibuy_label\": null, \"is_digital\": false, \"is_free_shipping_available\": true, \"multibuy_display\": false, \"is_add_to_cart_available\": false, \"prices\": [775.0], \"pretty_price\": \"R 775\", \"listing_price\": null, \"promotion_qty_display_text\": null}, \"breadcrumbs\": {\"items\": [{\"type\": \"department\", \"slug\": \"books\", \"name\": \"Books\", \"id\": 3}, {\"type\": \"category\", \"slug\": \"books-13883\", \"name\": \"Books\", \"id\": 13883}, {\"type\": \"category\", \"slug\": \"social-political-sciences-14647\", \"name\": \"Social & Political Sciences\", \"id\": 14647}, {\"type\": \"category\", \"slug\": \"sociology-15262\", \"name\": \"Sociology\", \"id\": 15262}, {\"type\": \"category\", \"slug\": \"general-sociology-15559\", \"name\": \"General - Sociology\", \"id\": 15559}]}, \"title\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\", \"product_information\": {\"items\": [{\"displayable_text\": \"[Books](/books) / [Books](/books/books-13883) / [Social & Political Sciences](/books/social-political-sciences-14647) / [Sociology](/books/sociology-15262) / [General - Sociology](/books/general-sociology-15559)\", \"display_name\": \"Categories\", \"value\": [[{\"type\": \"department\", \"slug\": \"books\", \"name\": \"Books\", \"id\": 3}, {\"type\": \"category\", \"slug\": \"books-13883\", \"name\": \"Books\", \"id\": 13883}, {\"type\": \"category\", \"slug\": \"social-political-sciences-14647\", \"name\": \"Social & Political Sciences\", \"id\": 14647}, {\"type\": \"category\", \"slug\": \"sociology-15262\", \"name\": \"Sociology\", \"id\": 15262}, {\"type\": \"category\", \"slug\": \"general-sociology-15559\", \"name\": \"General - Sociology\", \"id\": 15559}]], \"source\": \"categories\", \"content_type\": \"text/markdown\", \"type\": \"categories\", \"default_display_value\": null}, {\"displayable_text\": \"Limited (6 months)\", \"display_name\": \"Warranty\", \"value\": {\"type\": {\"name\": \"Limited\", \"id\": 2}, \"period\": {\"unit\": \"m\", \"value\": 6}}, \"source\": \"tsin-attribute-service\", \"content_type\": \"text/plain\", \"type\": \"warranty\", \"id\": \"attributes-0\"}, {\"displayable_text\": \"[Ulrich Kopf](/all?filter=Author:Ulrich+Kopf)\", \"display_name\": \"Author\", \"value\": \"Ulrich Kopf\", \"source\": \"tsin-attribute-service\", \"content_type\": \"text/markdown\", \"type\": \"author\", \"id\": \"attributes-1\"}, {\"displayable_text\": \"9783740013059\", \"display_name\": \"Barcode\", \"value\": \"9783740013059\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_barcode\", \"id\": \"meta-attributes-0\"}, {\"displayable_text\": \"9783740013059\", \"display_name\": \"ISBN\", \"value\": \"9783740013059\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_isbn\", \"id\": \"meta-attributes-1\"}, {\"displayable_text\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\", \"display_name\": \"Title\", \"value\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_title\", \"id\": \"meta-attributes-2\"}, {\"displayable_text\": 155, \"display_name\": \"Width (mm)\", \"value\": 155, \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_width_(mm)\", \"id\": \"meta-attributes-3\"}, {\"displayable_text\": \"1. Sociology\\n2. Sociology & Anthropology: Professional\\n3. ANF:Society\\n4. ANF: Society\", \"display_name\": \"Subjects\", \"value\": [\"Sociology\", \"Sociology & Anthropology: Professional\", \"ANF:Society\", \"ANF: Society\"], \"source\": \"productline-meta\", \"content_type\": \"text/markdown\", \"type\": \"meta_subjects\", \"id\": \"meta-attributes-4\"}, {\"displayable_text\": \"1. [Ulrich Kopf](/all?filter=Author:Ulrich+Kopf)\\n2. [Helmar Junghans](/all?filter=Author:Helmar+Junghans)\\n3. [Karl Stackmann](/all?filter=Author:Karl+Stackmann)\", \"display_name\": \"Authors\", \"value\": [\"Ulrich Kopf\", \"Helmar Junghans\", \"Karl Stackmann\"], \"source\": \"productline-meta\", \"content_type\": \"text/markdown\", \"type\": \"meta_authors\", \"id\": \"meta-attributes-5\"}, {\"displayable_text\": 724, \"display_name\": \"Number Of Pages\", \"value\": 724, \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_number_of_pages\", \"id\": \"meta-attributes-6\"}, {\"displayable_text\": \"German\", \"display_name\": \"Language\", \"value\": \"German\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_language\", \"id\": \"meta-attributes-7\"}, {\"displayable_text\": \"<img src='https://static.takealot.com/images/Flag_United_States.svg' /> United States\", \"display_name\": \"Country\", \"value\": \"USA\", \"source\": \"productline-meta\", \"content_type\": \"text/markdown\", \"type\": \"meta_country\", \"id\": \"meta-attributes-8\"}, {\"displayable_text\": 2000, \"display_name\": \"Year\", \"value\": 2000, \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_year\", \"id\": \"meta-attributes-9\"}, {\"displayable_text\": \"21 September 2000\", \"display_name\": \"Date of Publication\", \"value\": \"21 September 2000\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_date_of_publication\", \"id\": \"meta-attributes-10\"}, {\"displayable_text\": \"9783740013059\", \"display_name\": \"ISBN-13\", \"value\": \"9783740013059\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_isbn-13\", \"id\": \"meta-attributes-11\"}, {\"displayable_text\": \"DE\", \"display_name\": \"Country of Publication\", \"value\": \"DE\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_country_of_publication\", \"id\": \"meta-attributes-12\"}, {\"displayable_text\": \"[Luthers Werk - Sonderedition/Gesamtwerk](/all?filter=Series:Luthers+Werk+-+Sonderedition%2FGesamtwerk)\", \"display_name\": \"Series\", \"value\": \"Luthers Werk - Sonderedition/Gesamtwerk\", \"source\": \"productline-meta\", \"content_type\": \"text/markdown\", \"type\": \"meta_series\", \"id\": \"meta-attributes-13\"}, {\"displayable_text\": \"Hardback\", \"display_name\": \"Binding\", \"value\": \"Hardback\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_binding\", \"id\": \"meta-attributes-14\"}, {\"displayable_text\": \"General/trade\", \"display_name\": \"Audiences\", \"value\": \"General/trade\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_audiences\", \"id\": \"meta-attributes-15\"}, {\"displayable_text\": \"SOC026000\", \"display_name\": \"BISAC\", \"value\": \"SOC026000\", \"source\": \"productline-meta\", \"content_type\": \"text/plain\", \"type\": \"meta_bisac\", \"id\": \"meta-attributes-16\"}], \"tab_title\": \"Product Information\", \"categories\": null}, \"bullet_point_attributes\": {\"items\": [{\"description\": \"## What does this mean?\\n\\nYou can pay for this item with cash when your driver delivers your order.\\n\\n### How does it work?\\n\\nSelect Cash On Delivery (COD) as your payment option when you checkout.\\nHave the exact amount of cash ready for our friendly delivery driver when he arrives.\\n\\n### Is COD available on every order?\\n\\nNo. We don\\u2019t offer COD for:\\n\\n-   Digital products (e.g. eBooks, gift vouchers or airtime)\\n-   Customised products (e.g. a sports shirt printed with a personalised name)\\n-   Orders totalling R5,000 or more\\n-   Orders being collected from our warehouse\\n-   Delivery addresses falling outside of our Takealot Delivery Team area\\n\\n\\n### If your order is eligible for COD, it will be displayed as a payment option at checkout.\", \"positive\": true, \"text\": \"Eligible for Cash on Delivery.\", \"info_mode\": \"long\", \"type\": \"eligible_for_cod\", \"id\": \"bullet_point_0\"}, {\"description\": null, \"positive\": true, \"text\": \"Free Delivery Available.\", \"info_mode\": null, \"type\": \"free_delivery_available\", \"id\": \"bullet_point_1\"}, {\"description\": \"## Hassle-Free Exchanges & Returns for 30 Days\\n\\n### **Returns**\\n\\nIf you are not completely satisfied, simply return the items to us in their original condition and packaging within 30 days of receipt and we will issue a credit which can be used to place a new order.\\n\\n### Exchanges  (Fashion, sportswear and shoes only)\\n\\nThe item must be unworn and unused (other than trials) with the original tags still attached. Packaging should be returned in an undamaged condition with the item.\\n\\n### When does this policy not apply?\\n\\nIf the item is:\\n- older than 30 days\\n- opened, unsealed, used or missing any accessories\\n- a digital product such as an eBook, electronic voucher, gaming code or other digital downloads;\\n- an audio or video recording or computer software that has been unsealed;\\n- a newspaper, periodical or magazine;\\n- a foodstuff, beverage, or other product intended for everyday consumption;\\n- a nursing or maternity product that has been unsealed, including (but not limited to) breast pumps, bottles, formula, maternity underwear, nappies and wipes;\\n- a beauty product or fragrance which has been used;\\n- a product which has been personalised or made to your specifications.\\n\\n\\nFind out more about [Exchanges & Returns](https://secure.takealot.com/help).\", \"positive\": true, \"text\": \"Hassle-Free Exchanges & Returns for 30 Days.\", \"info_mode\": \"long\", \"type\": \"hassle_free_exchanges_and_returns\", \"id\": \"bullet_point_2\"}, {\"description\": \"Limited warranty, with certain exclusions, as defined by the manufacturer. Please consult the manufacturer for further details.\", \"positive\": true, \"text\": \"6-Month Limited Warranty.\", \"info_mode\": \"short\", \"type\": \"warranty\", \"id\": \"bullet_point_3\"}]}, \"stock_availability\": {\"status\": \"Supplier out of stock\", \"is_leadtime\": false, \"distribution_centres\": null, \"seasonal_message_info\": null, \"when_do_i_get_it_text\": null, \"is_imported\": false, \"display_seasonal_message\": false, \"seasonal_message_text\": null, \"when_do_i_get_it_info\": null}, \"event_data\": {\"documents\": {\"product\": {\"sku_id\": 54095527, \"product_line_id\": 41763086, \"market_place_listing\": false, \"in_stock\": false, \"purchase_price\": 775.0, \"lead_time\": \"Supplier out of stock\"}}}, \"reviews\": {\"count\": 0, \"star_rating\": null, \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/reviews?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID41763086\"}}, \"tab_title\": \"Reviews\", \"latest_review\": null, \"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID41763086/reviews?platform=desktop\"}, \"seo\": {\"alternate\": null, \"canonical\": null, \"description\": null, \"title\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1 | Buy Online in South Africa | takealot.com\"}, \"meta\": {\"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID41763086\"}}, \"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID41763086?platform=desktop\", \"date_retrieved\": \"2019-07-31T17:31:48.527442\", \"identifier\": \"PLID41763086\", \"type\": \"ProductDetails\", \"display\": false}, \"top_navigation\": {\"items\": [{\"foreground\": \"#333333\", \"font_styling\": null, \"text\": \"Books\", \"href\": \"/books\", \"background\": \"#ededed\", \"id\": \"topnav-0\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Afrikaanse Winkel\", \"href\": \"/promotion/afrikaansewinkel\", \"background\": \"#ededed\", \"id\": \"topnav-1\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"eBooks\", \"href\": \"/books/ebooks\", \"background\": \"#ededed\", \"id\": \"topnav-2\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Fiction\", \"href\": \"/books/fiction\", \"background\": \"#ededed\", \"id\": \"topnav-3\"}, {\"foreground\": \"#333\", \"font_styling\": [], \"text\": \"Inspired Reading\", \"href\": \"/books/more_ways_to_shop\", \"background\": \"#ededed\", \"id\": \"topnav-4\"}, {\"foreground\": \"#333\", \"font_styling\": [], \"text\": \"Cookbooks\", \"href\": \"/books/cookbooks\", \"background\": \"#ededed\", \"id\": \"topnav-5\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Children & Teens\", \"href\": \"/books/children\", \"background\": \"#ededed\", \"id\": \"topnav-6\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"SA School Books\", \"href\": \"/books/schoolbooks\", \"background\": \"#ededed\", \"id\": \"topnav-7\"}, {\"foreground\": \"#333333\", \"font_styling\": [], \"text\": \"Academic & UNISA\", \"href\": \"/books/academic\", \"background\": \"#ededed\", \"id\": \"topnav-8\"}]}, \"customers_also_bought\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID41763086/customers-also-bought?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/customers-also-bought?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID41763086\"}}}, \"exchanges_and_returns\": {\"copy\": \"### Free exchanges & returns for 30 days\\n\\nWrong size? Not quite what you wanted? You can exchange or return your purchase up to 30 days from the day you received it.\\n\\n1. Log your exchange or return request via your [Takealot Account profile](https://secure.takealot.com/account/).\\n2. Prepare your return parcel.\\n3. Wait for courier collection or drop off the parcel yourself.\\n4. If approved, your account will be credited.\\n\\n[Find out more](https://www.takealot.com/help/fashion-exchanges-returns)\", \"tab_title\": \"Exchanges and Returns\"}, \"data_layer\": {\"sku\": 44558792, \"totalPrice\": 775.0, \"name\": \"D. Martin Luthers Werke. Weimarer Ausgabe (Sonderedition): Abteilung 1\", \"productlineSku\": \"PLID41763086-44558792\", \"departmentname\": \"Books\", \"categoryid\": [13883, 14647, 15262, 15559], \"departmentid\": 3, \"pageType\": \"product\", \"quantity\": 1, \"event\": \"product\", \"prodid\": \"PLID41763086\", \"categoryname\": [\"Books\", \"Social & Political Sciences\", \"Sociology\", \"General - Sociology\"]}, \"desktop_href\": \"https://www.takealot.com/d-martin-luthers-werke-weimarer-ausgabe-sonderedition-abteilung-1/PLID41763086\", \"frequently_bought_together\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/PLID41763086/frequently-bought-together?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/{plid}/frequently-bought-together?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\", \"plid\": \"PLID41763086\"}}}, \"gallery\": {\"images\": [], \"size_guide\": {\"href\": \"https://api.takealot.com/rest/v-1-8-0/product-details/size-guide?platform=desktop\", \"link_data\": {\"path\": \"/rest/{api_version}/product-details/size-guide?platform={platform}\", \"fields\": {\"platform\": \"desktop\", \"api_version\": \"v-1-8-0\"}}}}}";

  @Test
  public void testBookJSON() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    TakealotApiResponse response = mapper.readValue(bookJSON, TakealotApiResponse.class);

    assertNotNull(response);
    assertTrue(response.isBook());
    assertEquals(4, response.getCategories().size());
  }

  @Test
  public void testJSON() throws IOException {
    ObjectMapper mapper = new ObjectMapper();
    TakealotApiResponse response = mapper.readValue(json, TakealotApiResponse.class);

    assertNotNull(response);
    assertFalse(response.isBook());
    assertEquals(3, response.getCategories().size());
  }
}
